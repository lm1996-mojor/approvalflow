## 审批流程组件执行器核心实现思路

```markdown
    整体思路采用初始化持久保存，再将初始化数据缓存（缓存方式可以通过不同的方式进行，
    在这里我选择使用json文件保存）起来。用户在进行审批时都是操作的json文件中的数据。（后面会针对这个部分进行优化）
    在单个审批全部完成的时候再把数据存入数据库中。同时将生成的json文件删除。
    流程步骤：
    1、在用户刚发起审批时，首先将该审批的所有初始化信息都保存至数据库中。
    2、在初始化完数据后，根据应用编码检查对应文件夹，再通过审批编码和租户id生成json文件。并将按照固定格式将数据写入到文件中
    3、在审批流程启动时和用户操作审批时所操作的数据都是json文件中的数据。最终审批流程完全结束时（即：审批在进入到结束节点），再将数据全部写入到数据库中。
    该思路优点：
        1、如果按照以往的开发方式，即：用户的操作直接连接上数据库进行操作，会发现用户的每次操作都将需要频繁连接数据库操作且系统资源消耗过大。在采用上述思路后，可以有效的减少数据库的连接次数。同时也可以将数据持久保存起来。
        并且每次操作仅需要将数据从文件中读取出一次，完成数据操作后再进行将数据进行保存即可。无需多次连接数据库
        2、在后期优化上，假如：出现并发情况。那么就需要将每个审批进行隔离和加锁。进行并发处理。传统方式不利于处理。因为总不可能去锁数据库连接。所以采用读取文件方式，可以将数据读取出来后进行上锁和隔离执行。这样可以有效的实现并发处理。
```